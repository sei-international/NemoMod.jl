<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Julia syntax · NEMO</title><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9GTNP1Q3KY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-9GTNP1Q3KY');
</script><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="NEMO logo"/></a><div class="docs-package-name"><span class="docs-autofit">NEMO</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../quick_start/">Quick start</a></li><li><a class="tocitem" href="../installation/">Installation</a></li><li><a class="tocitem" href="../model_concept/">Model concept</a></li><li><span class="tocitem">Inputs</span><ul><li><a class="tocitem" href="../dimensions/">Dimensions</a></li><li><a class="tocitem" href="../parameters/">Parameters</a></li><li><a class="tocitem" href="../time_slicing/">Time slicing</a></li><li><a class="tocitem" href="../units/">Units of measure</a></li></ul></li><li><span class="tocitem">Outputs</span><ul><li><a class="tocitem" href="../variables/">Variables</a></li></ul></li><li><a class="tocitem" href="../scenario_db/">Scenario databases</a></li><li><span class="tocitem">Calculating a scenario</span><ul><li class="is-active"><a class="tocitem" href>Julia syntax</a></li><li><a class="tocitem" href="../selected_years/">Calculating selected years</a></li><li><a class="tocitem" href="../configuration_file/">Configuration files</a></li><li><a class="tocitem" href="../performance_tips/">Performance tips</a></li></ul></li><li><a class="tocitem" href="../custom_constraints/">Custom constraints</a></li><li><a class="tocitem" href="../faqs/">FAQs</a></li><li><a class="tocitem" href="../functions/">Function reference</a></li><li><a class="tocitem" href="../release_notes/">Release notes</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Calculating a scenario</a></li><li class="is-active"><a href>Julia syntax</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Julia syntax</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/sei-international/NemoMod.jl/blob/master/docs/src/calculatescenario.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="scenario_calc"><a class="docs-heading-anchor" href="#scenario_calc">Julia syntax for calculating a scenario</a><a id="scenario_calc-1"></a><a class="docs-heading-anchor-permalink" href="#scenario_calc" title="Permalink"></a></h1><p>To calculate a scenario with NEMO, use the <code>calculatescenario</code> function. The only required argument is <code>dbpath</code>; NEMO provides a default value for all other arguments.</p><article class="docstring"><header><a class="docstring-binding" id="NemoMod.calculatescenario" href="#NemoMod.calculatescenario"><code>NemoMod.calculatescenario</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">calculatescenario(dbpath::String; jumpmodel::JuMP.Model = Model(Cbc.Optimizer),
    calcyears::Array{Int, 1} = Array{Int, 1}(),
    varstosave::String = &quot;vdemandnn, vnewcapacity, vtotalcapacityannual,
        vproductionbytechnologyannual, vproductionnn, vusebytechnologyannual,
        vusenn, vtotaldiscountedcost&quot;,
    restrictvars::Bool = true, reportzeros::Bool = false,
    continuoustransmission::Bool = false,
    forcemip::Bool = false, startvalsdbpath::String = &quot;&quot;,
    startvalsvars::String = &quot;&quot;, precalcresultspath::String = &quot;&quot;,
    quiet::Bool = false
)</code></pre><p>Calculates a scenario specified in a scenario database. Returns a <code>MathOptInterface.TerminationStatusCode</code> indicating the termination status reported by the solver used for the calculation (e.g., <code>OPTIMAL::TerminationStatusCode = 1</code>).</p><p><strong>Arguments</strong></p><ul><li><code>dbpath::String</code>: Path to the scenario database, which must be a SQLite version 3 database that   implements NEMO&#39;s scenario database structure. See NEMO&#39;s documentation on scenario databases   for details. Empty scenario databases can be generated with NEMO&#39;s <code>createnemodb</code> function.</li><li><code>jumpmodel::JuMP.Model</code>: <a href="https://github.com/jump-dev/JuMP.jl">JuMP</a> model object   specifying the solver to be used for the calculation.   Examples: <code>Model(optimizer_with_attributes(GLPK.Optimizer, &quot;presolve&quot; =&gt; true))</code>,   <code>Model(CPLEX.Optimizer)</code>, <code>Model(optimizer_with_attributes(Gurobi.Optimizer, &quot;NumericFocus&quot; =&gt; 1))</code>.   Note that the solver&#39;s Julia package (Julia wrapper) must be installed. See the   documentation for JuMP for information on how to specify a solver and set solver options.</li><li><code>calcyears::Array{Int, 1}</code>: Years to include in the calculation (a subset of the years specified in   the scenario database). All years in the database are included if this argument is omitted.</li><li><code>varstosave::String</code>: Comma-delimited list of output variables whose results should be   saved in the scenario database when the scenario is calculated. See NEMO&#39;s documentation on   outputs for information on the variables that are available.</li><li><code>restrictvars::Bool</code>: Indicates whether NEMO should conduct additional data analysis   to limit the set of variables created in the optimization problem for the scenario.   By default, to improve performance, NEMO selectively creates certain variables to   avoid combinations of subscripts that do not exist in the scenario&#39;s data. This option   increases the stringency of this filtering. It requires more processing time as the   problem is built, but it can substantially reduce the solve time for large models.</li><li><code>reportzeros::Bool</code>: Indicates whether results saved in the scenario database should   include values equal to zero. Specifying <code>false</code> can substantially improve the   performance of large models.</li><li><code>continuoustransmission::Bool</code>: Indicates whether continuous (<code>true</code>) or binary (<code>false</code>)   variables are used to represent investment decisions for candidate transmission lines. Not   relevant in scenarios that do not model transmission.</li><li><code>forcemip::Bool</code>: Forces NEMO to formulate the optimization problem for the scenario as a   mixed-integer problem. This can improve performance with some solvers (e.g., CPLEX, Mosek). If   this option is set to <code>false</code>, the input parameters for the scenario (i.e., in the scenario   database) determine whether the optimization problem is mixed-integer.</li><li><code>startvalsdbpath::String</code>: Path to a previously calculated scenario database from which NEMO   should take starting values for variables in the optimization problem formulated in this   function. This argument is used in conjunction with <code>startvalsvars</code>.</li><li><code>startvalsvars::String</code>: Comma-delimited list of variables for which starting values should be set.   See NEMO&#39;s documentation on outputs for information on the variables that are available. NEMO   takes starting values from output variable results saved in the database identified by   <code>startvalsdbpath</code>. Saved results are matched to variables in the optimization problem using   the variables&#39; subscripts, and starting values are set with JuMP&#39;s <code>set_start_value</code> function.   If <code>startvalsvars</code> is an empty string, NEMO sets starting values for all variables present in   both the optimization problem and the <code>startvalsdbpath</code> database.</li><li><code>precalcresultspath::String</code>: Path to a previously calculated scenario database that NEMO should   copy over the database specified by <code>dbpath</code>. This argument can also be a directory containing   previously calculated scenario databases, in which case NEMO copies any file in the directory   with the same name as the <code>dbpath</code> database. The intent of the argument is to short-circuit   calculations in situations where valid results already exist.</li><li><code>quiet::Bool</code>: Suppresses low-priority status messages (which are otherwise printed to   <code>STDOUT</code>).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sei-international/NemoMod.jl/blob/038e9f18690abc967f868af3b34e9577706549bc/src/scenario_calculation.jl#L10-L74">source</a></section></article><p>To access <code>calculatescenario</code> within Julia, you must first tell Julia you want to use NEMO. This is done with the <code>using</code> command.</p><pre><code class="language-julia">julia&gt; using NemoMod

julia&gt; NemoMod.calculatescenario(&quot;c:/temp/scenario_db.sqlite&quot;)</code></pre><p>If you want to provide a value for the <code>jumpmodel</code> argument, make sure to include <code>JuMP</code> and your solver&#39;s Julia package in the <code>using</code> command. For example:</p><pre><code class="language-julia">julia&gt; using NemoMod, JuMP, CPLEX

julia&gt; NemoMod.calculatescenario(&quot;c:/temp/scenario_db.sqlite&quot;; jumpmodel = Model(CPLEX.Optimizer), forcemip = true)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../scenario_db/">« Scenario databases</a><a class="docs-footer-nextpage" href="../selected_years/">Calculating selected years »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 31 May 2024 16:32">Friday 31 May 2024</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
