<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Perfect foresight vs. limited foresight · NEMO</title><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9GTNP1Q3KY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-9GTNP1Q3KY');
</script><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="NEMO logo"/></a><div class="docs-package-name"><span class="docs-autofit">NEMO</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../quick_start/">Quick start</a></li><li><a class="tocitem" href="../installation/">Installation</a></li><li><a class="tocitem" href="../modeling_concept/">Modeling concept</a></li><li><span class="tocitem">Inputs</span><ul><li><a class="tocitem" href="../dimensions/">Dimensions</a></li><li><a class="tocitem" href="../parameters/">Parameters</a></li><li><a class="tocitem" href="../time_slicing/">Time slicing</a></li><li><a class="tocitem" href="../units/">Units of measure</a></li></ul></li><li><span class="tocitem">Outputs</span><ul><li><a class="tocitem" href="../variables/">Variables</a></li></ul></li><li><a class="tocitem" href="../scenario_db/">Scenario databases</a></li><li><span class="tocitem">Calculating a scenario</span><ul><li><a class="tocitem" href="../calculatescenario/">Julia syntax</a></li><li class="is-active"><a class="tocitem" href>Perfect foresight vs. limited foresight</a><ul class="internal"><li><a class="tocitem" href="#Advantages-and-disadvantages-of-each-approach"><span>Advantages and disadvantages of each approach</span></a></li><li><a class="tocitem" href="#Syntax"><span>Syntax</span></a></li></ul></li><li><a class="tocitem" href="../selected_years/">Calculating selected years</a></li><li><a class="tocitem" href="../configuration_file/">Configuration files</a></li><li><a class="tocitem" href="../performance_tips/">Performance tips</a></li></ul></li><li><a class="tocitem" href="../custom_constraints/">Custom constraints</a></li><li><a class="tocitem" href="../faqs/">FAQs</a></li><li><a class="tocitem" href="../functions/">Function reference</a></li><li><a class="tocitem" href="../release_notes/">Release notes</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Calculating a scenario</a></li><li class="is-active"><a href>Perfect foresight vs. limited foresight</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Perfect foresight vs. limited foresight</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/sei-international/NemoMod.jl/blob/master/docs/src/foresight.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="foresight"><a class="docs-heading-anchor" href="#foresight">Perfect foresight vs. limited foresight</a><a id="foresight-1"></a><a class="docs-heading-anchor-permalink" href="#foresight" title="Permalink"></a></h1><p>When calculating a scenario in NEMO, you can choose to optimize with perfect or limited foresight.</p><ul><li><p>With <em>perfect foresight</em>, NEMO optimizes all modeled <a href="../dimensions/#year">years</a> at the same time (in one objective function and one solver call). The optimization calculation finds the energy system configuration that yields the lowest possible discounted costs across the modeled years.</p></li><li><p>For <em>limited foresight</em>, you divide the modeled years into groups, which must not overlap. NEMO then optimizes the groups in chronological order. Within each group, NEMO minimizes discounted costs for the years in the group - i.e., it uses perfect foresight optimization for those years only. Results from the group then provide starting conditions for the next group. The starting conditions taken from prior groups include <a href="../dimensions/#technology">technology</a>, <a href="../dimensions/#storage">storage</a>, and <a href="../dimensions/#transmissionline">transmission</a> capacity deployed; model period cost, emissions, and technology activity totals; and the amount of energy in storage.</p></li></ul><p>In both paradigms, you can elect to <a href="../selected_years/#selected_years">calculate selected years only</a> rather than all years in your <a href="../scenario_db/#scenario_db">scenario&#39;s database</a>. This means the years you specify for perfect foresight optimization or in the groups of years for limited foresight optimization can be sparse. In this case, NEMO makes adjustments to minimize distortions in the results compared to calculating all years.</p><h2 id="Advantages-and-disadvantages-of-each-approach"><a class="docs-heading-anchor" href="#Advantages-and-disadvantages-of-each-approach">Advantages and disadvantages of each approach</a><a id="Advantages-and-disadvantages-of-each-approach-1"></a><a class="docs-heading-anchor-permalink" href="#Advantages-and-disadvantages-of-each-approach" title="Permalink"></a></h2><p>When choosing between perfect and limited foresight optimization, you should consider several factors. Neither approach is best for all models and NEMO analyses.</p><p>The main advantage of perfect foresight is it returns a globally optimal solution - the least-cost way to configure the energy system for the years being studied. This is of course an idealization, but it can be a useful one for decision making. The principal downside to perfect foresight optimization is performance. Models formulated with perfect foresight are more complex from a solver&#39;s perspective and take longer to solve. The impact on performance can scale in a non-linear fashion with the number of years included in the perfect foresight calculation.</p><p>Limited foresight optimization can substantially decrease model calculation times by dividing the modeling period into smaller intervals. This breaks up the scenario&#39;s optimization problem into several smaller problems, each of which is easier to solve than if all years were taken together. Limited foresight doesn&#39;t provide a global optimum, but this can be acceptable for some analyses. In addition, limited foresight may more realistically simulate the way some energy-system decisions are made (i.e., looking only a few years into the future, rather than decades ahead).</p><h2 id="Syntax"><a class="docs-heading-anchor" href="#Syntax">Syntax</a><a id="Syntax-1"></a><a class="docs-heading-anchor-permalink" href="#Syntax" title="Permalink"></a></h2><p>You can indicate whether to use perfect or limited foresight optimization when calling NEMO&#39;s <a href="../calculatescenario/#scenario_calc"><code>calculatescenario</code></a> function. For the function&#39;s <code>calcyears</code> argument, you can pass a simple vector (array) of years or a vector of vectors of years. If you provide one vector of years, NEMO optimizes those years with perfect foresight. If you supply multiple vectors (in a vector of vectors), NEMO takes each as a group of years for limited foresight optimization. When passing multiple vectors of years to <code>calcyears</code>, be sure they do not overlap and they are in chronological order. If you don&#39;t provide a value for <code>calcyears</code>, NEMO optimizes all years in the scenario database with perfect foresight.</p><p>Here are a few examples, assuming you have a scenario whose years cover 2025 to 2050.</p><pre><code class="language-julia"># Optimize all years with perfect foresight
NemoMod.calculatescenario(&quot;my_scenario.sqlite&quot;; jumpmodel=direct_model(Xpress.Optimizer()), 
    calcyears=[[2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035,2036,2037,2038,2039,2040,2041,2042,2043,2044,2045,2046,2047,2048,2049,2050]])

# Optimize all years with perfect foresight (calcyears argument omitted)
NemoMod.calculatescenario(&quot;my_scenario.sqlite&quot;; jumpmodel=direct_model(Xpress.Optimizer()))

# Optimize selected years with perfect foresight
NemoMod.calculatescenario(&quot;my_scenario.sqlite&quot;; jumpmodel=direct_model(Xpress.Optimizer()), 
    calcyears=[[2025,2030,2035,2040,2045,2050]])

# Limited foresight optimization in three parts:
#   optimize 2025-2034 with perfect foresight, 
#   then optimize 2035-2044 with perfect foresight,
#   then optimize 2045-2050 with perfect foresight
NemoMod.calculatescenario(&quot;my_scenario.sqlite&quot;; jumpmodel=direct_model(Xpress.Optimizer()), 
    calcyears=[[2025,2026,2027,2028,2029,2030,2031,2032,2033,2034], 
    [2035,2036,2037,2038,2039,2040,2041,2042,2043,2044], 
    [2045,2046,2047,2048,2049,2050]])  

# Limited foresight optimization in three parts (calculating selected years only): 
#   optimize 2025, 2030, and 2034 with perfect foresight; 
#   then optimize 2035, 2040, and 2044 with perfect foresight; 
#   then optimize 2045 and 2050 with perfect foresight
NemoMod.calculatescenario(&quot;my_scenario.sqlite&quot;; jumpmodel=direct_model(Xpress.Optimizer()), 
    calcyears=[[2025,2030,2034], [2035,2040,2044], [2045,2050]])  

# Limited foresight optimization: optimize each year individually
NemoMod.calculatescenario(&quot;my_scenario.sqlite&quot;; jumpmodel=direct_model(Xpress.Optimizer()), 
    calcyears=[[2025],[2026],[2027],[2028],[2029],[2030],[2031],[2032],[2033],[2034],[2035],[2036],[2037],[2038],[2039],[2040],[2041],[2042],[2043],[2044],[2045],[2046],[2047],[2048],[2049],[2050]])</code></pre><p>You can also specify <code>calcyears</code> in a <a href="../configuration_file/#configuration_file">NEMO configuration file</a>. In that case, you separate groups of years with commas and years within a group with vertical bars (|). The following block reproduces the above examples in configuration file syntax.</p><pre><code class="language-ini">[calculatescenarioargs]
; Optimize all years with perfect foresight
calcyears=2025|2026|2027|2028|2029|2030|2031|2032|2033|2034|2035|2036|2037|2038|2039|2040|2041|2042|2043|2044|2045|2046|2047|2048|2049|2050

[calculatescenarioargs]
; Optimize selected years with perfect foresight
calcyears=2025|2030|2035|2040|2045|2050

[calculatescenarioargs]
; Limited foresight optimization in three parts:
;   optimize 2025-2034 with perfect foresight,
;   then optimize 2035-2044 with perfect foresight,
;   then optimize 2045-2050 with perfect foresight
calcyears=2025|2026|2027|2028|2029|2030|2031|2032|2033|2034,2035|2036|2037|2038|2039|2040|2041|2042|2043|2044,2045|2046|2047|2048|2049|2050

[calculatescenarioargs]
; Limited foresight optimization in three parts (calculating selected years only):
;   optimize 2025, 2030, and 2034 with perfect foresight;
;   then optimize 2035, 2040, and 2044 with perfect foresight;
;   then optimize 2045 and 2050 with perfect foresight
calcyears=2025|2030|2034,2035|2040|2044,2045|2050

[calculatescenarioargs]
; Limited foresight optimization: optimize each year individually
calcyears=2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035,2036,2037,2038,2039,2040,2041,2042,2043,2044,2045,2046,2047,2048,2049,2050</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../calculatescenario/">« Julia syntax</a><a class="docs-footer-nextpage" href="../selected_years/">Calculating selected years »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 28 January 2025 13:44">Tuesday 28 January 2025</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
